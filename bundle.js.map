{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://todo/./src/index.js","webpack://todo/./src/modules/addcomment.js","webpack://todo/./src/modules/api_key.js","webpack://todo/./src/modules/commentCounter.js","webpack://todo/./src/modules/displayShows.js","webpack://todo/./src/modules/fetchcomment.js","webpack://todo/./src/modules/fetchlike.js","webpack://todo/./src/modules/itemCounter.js","webpack://todo/./src/modules/like.js","webpack://todo/./src/style.css?e320"],"sourcesContent":["import './style.css';\nimport fetchData from './modules/displayShows.js';\nimport addcomment from './modules/addcomment.js';\nimport fetchcomment from './modules/fetchcomment.js';\nimport commentCounterFunction from './modules/commentCounter.js';\nimport addlike from './modules/like.js';\nimport fetchlike from './modules/fetchlike.js';\nimport itemCounterFunction from './modules/itemCounter.js';\nimport keyfunction from './modules/api_key.js';\n\nconst key = keyfunction();\n\nconst movies = document.querySelector('.movie-info');\nconst id = [1, 2, 3, 4, 5, 6, 7, 8, 9, 99];\nconst popupModal = document.querySelector('.pop-up');\nconst popup = document.querySelector('.popupContent');\nconst closebutton = document.querySelector('.closebutton');\nconst popupContentLoad = document.querySelector('.popupContentLoad');\nconst popupCommentButton = document.querySelector('.popupCommentButton');\nconst input = document.querySelector('.input');\nconst inputname = document.querySelector('.inputname');\nconst textarea = document.querySelector('.textarea');\nconst commentsload = document.querySelector('.commentsload');\nconst countercomment = document.querySelector('.countercomment');\nconst shows = document.querySelector('.shows');\nlet nooflikes = 0;\n\nid.forEach((movie) => {\n  fetchData(movie).then(async (res) => {\n    const likesdisplay = await fetchlike(key);\n    nooflikes = 0;\n    likesdisplay.forEach((element) => {\n      if (parseInt(element.item_id, 10) === movie) {\n        nooflikes = element.likes;\n      }\n    });\n    movies.innerHTML += `<div id=\"${movie}\" class=\"movie-img\">\n    <img src=\"${res.image.medium}\">\n    <section class=\"movie-desk\">\n      <p class=\"movie-title\">${res.name}</p>\n      <div class=\"likeContainer\">\n      <button id=\"${movie}\" class=\"like-button\"><span class=\"like\">👍</span></button>\n        <p class=\"likesnumber\">${nooflikes} likes</p>\n      </div>\n    </section>\n    <button class=\"comment-button\">Comments</button></div>`;\n  });\n});\nlet ID = '';\nlet commentCounter = 0;\nlet itemCounter = 0;\nfunction openPopUp() {\n  popup.classList.add('open');\n  popupModal.style.display = 'flex';\n  popup.style.display = 'flex';\n  input.style.display = 'flex';\n}\nfunction closePopUp() {\n  popup.classList.remove('open');\n  popupModal.style.display = 'none';\n  popup.style.display = 'none';\n  input.style.display = 'none';\n}\n\nsetTimeout(async () => {\n  itemCounter = await itemCounterFunction();\n  shows.innerHTML = `Shows (${itemCounter})`;\n}, 5000);\n\nmovies.addEventListener('click', async (e) => {\n  ID = e.target.parentElement.id;\n  if (e.target.classList.contains('comment-button')) {\n    fetchData(e.target.parentElement.id).then(async (res) => {\n      openPopUp();\n      popupContentLoad.innerHTML = `<div class=\"movies-div\">\n      <img id=\"${e.target.parentElement.id}\" src=\"${res.image.medium}\"></div>\n      <div class=\"firstline\">\n      <span class=\"firstlineItemone\">Categories: ${res.genres.join(', ')}</span>\n      <span class=\"firstlineItemtwo\">Rating: ${res.rating.average}</span>\n      </div>\n      <div class=\"secondline\">${res.summary}\n      </div>`;\n      await fetchcomment(ID, key);\n      commentCounter = commentCounterFunction();\n      countercomment.innerHTML = `( ${commentCounter} )`;\n    });\n  }\n  if (e.target.classList.contains('like')) {\n    await addlike({\n      item_id: ID,\n    }, key);\n    const likesdisplay = await fetchlike(key);\n    likesdisplay.forEach((element) => {\n      if (element.item_id === ID) {\n        nooflikes = element.likes;\n      }\n    });\n    e.target.parentElement.parentElement.innerHTML = `<button id=\"${ID}\" class=\"like-button\"><span class=\"like\">👍</span></button>\n    <p class=\"likesnumber\">No. of likes are: ${nooflikes}</p>`;\n  }\n});\n\nclosebutton.addEventListener('click', () => {\n  commentsload.innerHTML = '';\n  commentCounter = 0;\n  closePopUp();\n});\n\npopupCommentButton.addEventListener('click', () => {\n  addcomment({\n    item_id: ID,\n    username: inputname.value,\n    comment: textarea.value,\n  }, key);\n  commentsload.innerHTML += `<p><span>Just now ${inputname.value}: ${textarea.value}</p>`;\n  commentCounter = commentCounterFunction();\n  countercomment.innerHTML = `comments (${commentCounter})`;\n  inputname.value = '';\n  textarea.value = '';\n});","const addcomment = (Obj, key) => fetch(`https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/${key}/comments`, {\n  method: 'POST',\n  headers: {\n    'Content-type': 'application/json; charset=UTF-8',\n  },\n  body: JSON.stringify(Obj),\n}).then((res) => res)\n  .then((output) => output);\nexport default addcomment;","const key = 'ijbk4Yf3rCPbt7WMXuGI';\n\nfunction keyfunction() {\n  return key;\n}\n\nexport default keyfunction;","const commentCounterFunction = () => {\n  const commentCounter = document.querySelector('.commentsload');\n  let counter = 0;\n  counter = commentCounter.getElementsByTagName('p').length;\n  return counter;\n};\nexport default commentCounterFunction;","export default async function fetchData(id) {\n  const fetching = await fetch(`https://api.tvmaze.com/shows/${id}`)\n    .then((response) => response.json());\n  return fetching;\n}","const commentsload = document.querySelector('.commentsload');\n\nexport default async function fetchcomment(id, key) {\n  commentsload.innerHTML = '';\n  await fetch(`https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/${key}/comments?item_id=${id}`)\n    .then((res) => res.json())\n    .then((output) => {\n      if (output.error) {\n        return;\n      }\n      output.forEach((comment) => {\n        commentsload.innerHTML += `<p><span>${comment.creation_date} ${comment.username}: ${comment.comment}</span></p>`;\n      });\n    });\n}","export default async function fetchlike(key) {\n  return fetch(\n    `https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/${key}/likes`,\n  )\n    .then((res) => res.json())\n    .then((output) => output);\n}","const itemCounterFunction = () => {\n  const movieinfo = document.querySelector('.movie-info');\n  let counter = 0;\n  counter = movieinfo.getElementsByTagName('img').length;\n  return counter;\n};\nexport default itemCounterFunction;","const addlike = (Obj, key) => fetch(\n  `https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/${key}/likes`,\n  {\n    method: 'POST',\n    headers: {\n      'Content-type': 'application/json; charset=UTF-8',\n    },\n    body: JSON.stringify(Obj),\n  },\n).then((res) => res);\n\nexport default addlike;","// extracted by mini-css-extract-plugin\nexport {};"],"names":["fetchData","addcomment","fetchcomment","commentCounterFunction","addlike","fetchlike","itemCounterFunction","keyfunction","key","movies","document","querySelector","id","popupModal","popup","closebutton","popupContentLoad","popupCommentButton","input","inputname","textarea","commentsload","countercomment","shows","nooflikes","forEach","movie","then","res","likesdisplay","element","parseInt","item_id","likes","innerHTML","image","medium","name","ID","commentCounter","itemCounter","openPopUp","classList","add","style","display","closePopUp","remove","setTimeout","addEventListener","e","target","parentElement","contains","genres","join","rating","average","summary","username","value","comment","Obj","fetch","method","headers","body","JSON","stringify","output","counter","getElementsByTagName","length","response","json","fetching","error","creation_date","movieinfo"],"sourceRoot":""}